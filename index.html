<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Défis Érotiques</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #1e1e1e;
      color: #fff;
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
      margin: 0;
      padding: 20px;
    }
    input, select, button {
      margin: 5px;
      padding: 5px;
      font-size: 16px;
    }
    #defiAffiche {
      margin-top: 20px;
      font-size: 20px;
      text-align: center;
      min-height: 50px;
    }
    ul {
      margin-top: 10px;
    }
    li {
      margin-bottom: 5px;
    }
  </style>
</head>
<body>

  <h1>Défis Érotiques</h1>

  <!-- Formulaire pour ajouter un défi -->
  <input type="text" id="nouveauDefi" placeholder="Écris un nouveau défi">
  <select id="niveauDefi">
    <option value="1">Niveau 1 (Soft)</option>
    <option value="2">Niveau 2</option>
    <option value="3">Niveau 3</option>
    <option value="4">Niveau 4</option>
    <option value="5">Niveau 5 (Extrême)</option>
  </select>
  <button onclick="ajouterDefi()">Ajouter</button>

  <!-- Bouton pour tirer un défi aléatoire -->
  <button onclick="tirerDefi()">Tirer un défi aléatoire</button>

  <div id="defiAffiche"></div>

  <!-- Liste locale des défis -->
  <ul id="listeDefis"></ul>

<script>
  // Charger les défis depuis localStorage ou initialiser vide
  let defis = JSON.parse(localStorage.getItem('defis')) || [];

  // Fonction pour afficher la liste des défis
  function afficherListe() {
    const ul = document.getElementById('listeDefis');
    ul.innerHTML = '';
    defis.forEach((d, index) => {
      const li = document.createElement('li');
      li.textContent = `Niveau ${d.niveau}: ${d.defi}`;
      const btnSuppr = document.createElement('button');
      btnSuppr.textContent = 'Supprimer';
      btnSuppr.onclick = () => { supprimerDefi(index); };
      li.appendChild(btnSuppr);
      ul.appendChild(li);
    });
  }

  // Ajouter un nouveau défi
  function ajouterDefi() {
    const texte = document.getElementById('nouveauDefi').value.trim();
    const niveau = document.getElementById('niveauDefi').value;
    if (!texte) return alert('Écris un défi !');
    defis.push({defi: texte, niveau: niveau});
    localStorage.setItem('defis', JSON.stringify(defis));
    document.getElementById('nouveauDefi').value = '';
    afficherListe();
  }

  // Supprimer un défi
  function supprimerDefi(index) {
    defis.splice(index, 1);
    localStorage.setItem('defis', JSON.stringify(defis));
    afficherListe();
  }

  // Tirer un défi aléatoire
  function tirerDefi() {
    if (defis.length === 0) return alert('Aucun défi enregistré !');
    const aleatoire = defis[Math.floor(Math.random() * defis.length)];
    document.getElementById('defiAffiche').textContent = `Niveau ${aleatoire.niveau}: ${aleatoire.defi}`;
  }

  // Afficher la liste au chargement
  afficherListe();
</script>

</body>
</html>
